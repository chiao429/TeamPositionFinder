# 小隊位置搜尋系統 - 需求規格書

## 1. 專案概述

### 1.1 專案名稱
小隊位置搜尋系統 (Team Position Finder)

### 1.2 專案目標
開發一個直觀的網頁應用程式，讓使用者能夠快速搜尋小隊名稱，並在視覺化的座位平面圖上定位該小隊的位置。

### 1.3 目標使用者
- 活動組織者
- 教室管理人員
- 參與者/學員

---

## 2. 功能需求

### 2.1 核心功能

#### F-001: 小隊搜尋功能
- **描述**: 使用者可以透過輸入小隊名稱進行搜尋
- **輸入**: 小隊名稱（文字）
- **處理**: 
  - 支援模糊搜尋（部分匹配）
  - 不區分大小寫
  - 即時搜尋或按鈕觸發
- **輸出**: 
  - 若找到：顯示小隊詳細資訊並高亮座位
  - 若未找到：顯示友善的錯誤訊息

#### F-002: 座位視覺化
- **描述**: 在座位平面圖上顯示所有座位
- **功能**:
  - 清晰的座位編號顯示（例如：S201, S202...）
  - 座位以網格方式排列
  - 標示講台方向
  - 區分一般座位與高亮座位的視覺差異

#### F-003: 座位高亮顯示
- **描述**: 搜尋到小隊後，在座位圖上高亮顯示該小隊的所有座位
- **功能**:
  - 支援多座位高亮（一個小隊可能佔用多個座位）
  - 明顯的視覺區別（顏色、動畫效果）
  - 自動聚焦到高亮區域

#### F-004: 小隊資訊展示
- **描述**: 顯示搜尋到的小隊詳細資訊
- **顯示內容**:
  - 小隊名稱
  - 座位位置（所有座位編號）
  - 隊長姓名
- **呈現方式**: 資訊卡片形式，位於座位圖上方

#### F-005: 錯誤處理
- **描述**: 當查無資料時，顯示友善的提示訊息
- **訊息內容**:
  - 明確告知未找到結果
  - 提供建議（例如：檢查拼寫、嘗試其他關鍵字）
  - 友善的視覺設計（圖示、顏色）

---

## 3. 非功能需求

### 3.1 效能需求
- **NFR-001**: 搜尋回應時間 < 500ms
- **NFR-002**: 頁面載入時間 < 2s
- **NFR-003**: 支援至少 100 筆小隊資料

### 3.2 使用者體驗需求
- **NFR-004**: 介面直觀，無需說明即可使用
- **NFR-005**: 響應式設計，支援桌面、平板、手機
- **NFR-006**: 流暢的動畫過渡效果
- **NFR-007**: 無障礙設計（WCAG 2.1 AA 標準）

### 3.3 相容性需求
- **NFR-008**: 支援主流瀏覽器（Chrome, Firefox, Safari, Edge）
- **NFR-009**: 支援最近兩個版本的瀏覽器

### 3.4 維護性需求
- **NFR-010**: 小隊資料易於更新（JSON 格式）
- **NFR-011**: 座位配置可自訂
- **NFR-012**: 程式碼模組化，易於擴展

---

## 4. 資料需求

### 4.1 小隊資料結構

```typescript
interface Team {
  team_name: string;      // 小隊名稱
  positions: string[];    // 座位位置陣列
  leader: string;         // 隊長姓名
}
```

### 4.2 資料範例

```json
{
  "team_name": "飛鷹隊",
  "positions": ["S223", "S224"],
  "leader": "王小明"
}
```

### 4.3 座位資料結構

```typescript
interface SeatPosition {
  id: string;       // 座位唯一識別碼
  row: number;      // 排數
  col: number;      // 列數
  label: string;    // 顯示標籤
}
```

### 4.4 資料驗證規則
- `team_name`: 必填，1-50 字元
- `positions`: 必填，至少包含一個有效座位編號
- `leader`: 必填，1-30 字元
- 座位編號格式: S + 3位數字（例如：S201）

---

## 5. 介面需求

### 5.1 頁面佈局
```
┌─────────────────────────────────────┐
│         系統標題與說明              │
├─────────────────────────────────────┤
│         搜尋欄位 + 按鈕             │
├─────────────────────────────────────┤
│         小隊資訊卡片                │
│    （僅在搜尋到結果時顯示）         │
├─────────────────────────────────────┤
│                                     │
│         座位平面圖                  │
│                                     │
│    ┌───┬───┬───┬───┬───┬───┐      │
│    │S01│S02│S03│S04│S05│S06│      │
│    ├───┼───┼───┼───┼───┼───┤      │
│    │S07│S08│S09│S10│S11│S12│      │
│    └───┴───┴───┴───┴───┴───┘      │
│                                     │
└─────────────────────────────────────┘
```

### 5.2 色彩設計
- **主色調**: 藍色系（#3B82F6）
- **強調色**: 靛藍色（#4F46E5）
- **成功色**: 綠色（#10B981）
- **錯誤色**: 紅色（#EF4444）
- **中性色**: 灰色系（#6B7280）
- **背景色**: 淺色漸層（藍-靛-紫）

### 5.3 字型設計
- **標題**: 粗體，大尺寸（32-48px）
- **內文**: 常規，中等尺寸（16-18px）
- **標籤**: 中等粗細，小尺寸（12-14px）

---

## 6. 使用者故事

### US-001: 搜尋小隊位置
**身為** 活動組織者  
**我想要** 快速搜尋小隊名稱  
**以便** 找到他們在會場的座位位置

**驗收標準**:
- 可以輸入完整或部分小隊名稱
- 搜尋結果即時顯示
- 座位在地圖上清楚標示

### US-002: 查看小隊資訊
**身為** 參與者  
**我想要** 查看小隊的詳細資訊  
**以便** 了解隊長是誰以及確切座位位置

**驗收標準**:
- 顯示小隊名稱
- 顯示所有座位編號
- 顯示隊長姓名

### US-003: 處理查無結果
**身為** 使用者  
**我想要** 在找不到小隊時得到明確提示  
**以便** 知道如何調整搜尋條件

**驗收標準**:
- 顯示友善的錯誤訊息
- 提供搜尋建議
- 不會顯示混淆的資訊

---

## 7. 技術需求

### 7.1 前端技術棧
- **框架**: Next.js 14 (React)
- **語言**: TypeScript
- **樣式**: TailwindCSS
- **圖標**: Lucide React

### 7.2 部署需求
- **平台**: Vercel
- **域名**: 支援自訂域名
- **SSL**: 必須啟用 HTTPS

### 7.3 開發環境
- Node.js >= 18.0
- npm 或 yarn

---

## 8. 測試需求

### 8.1 功能測試
- 搜尋功能正確性
- 座位高亮準確性
- 資訊顯示完整性
- 錯誤處理正確性

### 8.2 使用者介面測試
- 響應式設計測試
- 跨瀏覽器相容性測試
- 動畫流暢度測試

### 8.3 效能測試
- 載入時間測試
- 搜尋回應時間測試
- 大量資料處理測試

---

## 9. 部署流程

### 9.1 部署步驟
1. 程式碼推送到 Git 儲存庫
2. 連接 Vercel 帳號
3. 匯入專案
4. 自動建置與部署
5. 驗證部署結果

### 9.2 環境配置
- 生產環境: Vercel
- 開發環境: 本地 localhost:3000

---

## 10. 維護與更新

### 10.1 資料更新流程
1. 編輯 `data/teams.json`
2. 驗證 JSON 格式正確性
3. 提交變更
4. 自動重新部署

### 10.2 座位配置更新
1. 編輯 `components/SeatMap.tsx`
2. 修改 `seatLayout` 陣列
3. 測試顯示效果
4. 提交變更

---

## 11. 未來擴展

### 11.1 可能的功能擴展
- 多語言支援
- 匯出座位表功能
- 座位預約系統
- 即時座位狀態更新
- 管理後台（新增/編輯/刪除小隊）
- 座位圖拖放編輯器
- 歷史搜尋記錄
- 收藏常用小隊

### 11.2 技術優化
- 加入搜尋快取
- 實作虛擬滾動（大量座位）
- PWA 支援（離線使用）
- 資料庫整合（取代 JSON 檔案）

---

## 12. 附錄

### 12.1 座位編號規則
- 格式: S + 三位數字
- 範圍: S201 - S236（預設 6x6 配置）
- 編號順序: 由左至右，由前至後

### 12.2 參考文件
- Next.js 官方文件: https://nextjs.org/docs
- TailwindCSS 文件: https://tailwindcss.com/docs
- TypeScript 文件: https://www.typescriptlang.org/docs

---

**文件版本**: 1.0  
**最後更新**: 2024  
**負責人**: 開發團隊
